{"version":3,"sources":["Icons/sprite.svg","components/product.jsx","utils/textCutter.js","App.js","index.js"],"names":["Product","product","id","number","productName","category","productPrice","price","quantitySold","productQuantity","rating","count","soldStrength","productDescription","description","productImage","image","cutProductDescription","expand","onIncrease","onDecrease","onNumberChange","onNumberFocusout","onExpand","className","src","alt","style","width","onClick","href","sprite","type","value","onChange","e","target","onBlur","textCutter","text","desiredCharacters","length","newText","slice","i","App","useState","products","setProducts","a","axios","catch","err","alert","result","data","status","message","Math","floor","random","strength","useEffect","getProducts","handleNumberFocusout","productId","newProducts","map","replace","handleIncrease","handleDecrease","handleNumberChange","handleExpand","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1b734186.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sprite.0ad79041.svg\";","import React, { useState } from \"react\";\r\nimport sprite from \"../Icons/sprite.svg\";\r\n\r\nconst Product = ({\r\n  product: {\r\n    id,\r\n    number,\r\n    category: productName,\r\n    price: productPrice,\r\n    quantitySold,\r\n    rating: { count: productQuantity },\r\n    soldStrength,\r\n    description: productDescription,\r\n    image: productImage,\r\n    cutProductDescription,\r\n    expand,\r\n  },\r\n  onIncrease,\r\n  onDecrease,\r\n  onNumberChange,\r\n  onNumberFocusout,\r\n  onExpand,\r\n}) => {\r\n  return (\r\n    <div className=\"product grid grid--col-2\">\r\n      <div className=\"product__left\">\r\n        <img\r\n          className=\"product__image media__image\"\r\n          src={productImage}\r\n          alt=\"Product Image\"\r\n        />\r\n        <div>\r\n          <div className=\"product__sold-bar-container\">\r\n            <span\r\n              className=\"product__sold-bar\"\r\n              style={{ width: soldStrength + \"%\" }}\r\n            ></span>\r\n          </div>\r\n          <p className=\"product__sold-text\">{`sold ${quantitySold} from ${productQuantity}`}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"product__body\">\r\n        <div>\r\n          <h3 className=\"product__title media__title\">{productName}</h3>\r\n          {expand ? (\r\n            <p className=\"product__content media__content\">\r\n              {productDescription}{\" \"}\r\n              <span\r\n                className=\"product__content-more\"\r\n                onClick={() => onExpand(id)}\r\n              >\r\n                show less\r\n              </span>\r\n            </p>\r\n          ) : (\r\n            <p className=\"product__content media__content\">\r\n              {cutProductDescription\r\n                ? cutProductDescription\r\n                : productDescription}\r\n              {cutProductDescription ? (\r\n                <span\r\n                  className=\"product__content-more\"\r\n                  onClick={() => onExpand(id)}\r\n                >\r\n                  ...more\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className=\"product__pricing\">\r\n          <div className=\"product__price\">{`${productPrice} USD`}</div>\r\n          <div className=\"product__count\">\r\n            <svg\r\n              className=\"product__decrease icon\"\r\n              onClick={() => onDecrease(id)}\r\n            >\r\n              <use href={sprite + \"#arrow\"}></use>\r\n            </svg>\r\n            <input\r\n              type=\"number\"\r\n              value={number}\r\n              id=\"rewriting-library\"\r\n              className=\"product__number\"\r\n              onChange={(e) => onNumberChange(id, e.target.value)}\r\n              onBlur={(e) => onNumberFocusout(id)}\r\n            />\r\n            <svg\r\n              className=\"product__increase icon\"\r\n              onClick={() => onIncrease(id)}\r\n            >\r\n              <use href={sprite + \"#arrow\"}></use>\r\n            </svg>\r\n          </div>\r\n\r\n          <button className=\"product__add\">add to card</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","export default function textCutter(text, desiredCharacters) {\r\n  if (text.length <= desiredCharacters) return false;\r\n  let newText = text.slice(0, desiredCharacters);\r\n  //for not cutting the last text in the word\r\n  for (let i = desiredCharacters; i < text.length - 1; i++) {\r\n    if (text[i] === \" \") break;\r\n    newText += text[i];\r\n  }\r\n  return newText;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Product from \"./components/product\";\nimport textCutter from \"./utils/textCutter\";\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n\n  async function getProducts() {\n    const result = await axios(\"https://fakestoreapi.com/products\").catch(\n      (err) => {\n        alert(err);\n      }\n    );\n    FIXME: if (result?.data.status >= 400) {\n      alert(result.data.message);\n    } else {\n      for (const product of result.data) {\n        product.quantitySold = Math.floor(Math.random() * product.rating.count);\n        const strength = (product.quantitySold * 100) / product.rating.count;\n        product.soldStrength = strength;\n        product.number = 1;\n        product.cutProductDescription = textCutter(product.description, 150);\n        product.expand = false;\n      }\n      setProducts(result.data.slice(0, result.data.length - 1));\n    }\n  }\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  const handleNumberFocusout = (productId) => {\n    const newProducts = products.map((product) => {\n      if (product.id === productId) {\n        if (product.number === \"\") product.number = \"0\";\n        if (product.number.length > 0)\n          product.number = product.number.replace(/\\D/g, \"\");\n      }\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleIncrease = (productId) => {\n    let newProducts = products.map((product) => {\n      if (product.id === productId) product.number++;\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleDecrease = (productId) => {\n    let newProducts = products.map((product) => {\n      if (product.id === productId) {\n        if (product.number === 0);\n        else product.number--;\n      }\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleNumberChange = (productId, value) => {\n    const newProducts = products.map((product) => {\n      if (product.id === productId) {\n        if (value < 0 && value === \"\") return product;\n        product.number = value;\n      }\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleExpand = (productId) => {\n    let newProducts = products.map((product) => {\n      if (product.id === productId) product.expand = !product.expand;\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Products</h1>\n      <div className=\"products\">\n        {products.map((product) => (\n          <Product\n            key={product.id}\n            product={product}\n            onIncrease={handleIncrease}\n            onDecrease={handleDecrease}\n            onNumberChange={handleNumberChange}\n            onNumberFocusout={handleNumberFocusout}\n            onExpand={handleExpand}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"milligram/dist/milligram.min.css\";\nimport \"./CSS/normalize.css\";\nimport \"./CSS/index.css\";\nimport \"./CSS/App.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}