{"version":3,"sources":["Icons/sprite.svg","components/product.jsx","App.js","index.js"],"names":["Product","product","id","number","product_price","quantity_sold","product_quantity","soldStrength","product_id","productName","name","productDescription","description","prize_id","prizeName","prizeDescription","onIncrease","onDecrease","onNumberChange","onNumberFocusout","useState","collapse","setcollapse","productClasses","className","src","alt","style","width","onClick","href","sprite","type","value","onChange","e","target","onBlur","App","products","setProducts","a","axios","catch","err","alert","result","data","status","message","strength","useEffect","getProducts","handleNumberFocusout","productId","newProducts","map","length","replace","handleIncrease","handleDecrease","handleNumberChange","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4464bf7a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sprite.0ad79041.svg\";","import React, { useState } from \"react\";\r\nimport sprite from \"../Icons/sprite.svg\";\r\n\r\nconst Product = ({\r\n  product: {\r\n    id,\r\n    number,\r\n    product_price,\r\n    quantity_sold,\r\n    product_quantity,\r\n    soldStrength,\r\n    product_id: { name: productName, description: productDescription },\r\n    prize_id: { name: prizeName, description: prizeDescription },\r\n  },\r\n  onIncrease,\r\n  onDecrease,\r\n  onNumberChange,\r\n  onNumberFocusout,\r\n}) => {\r\n  const [collapse, setcollapse] = useState(false);\r\n  let productClasses = collapse\r\n    ? \"product grid grid--col-2 collapsible\"\r\n    : \"product grid grid--col-2 \";\r\n\r\n  const handleCollapse = () => {\r\n    setcollapse(!collapse);\r\n  };\r\n\r\n  return (\r\n    <div className={productClasses}>\r\n      <div className=\"product__left\">\r\n        <img\r\n          className=\"product__image media__image\"\r\n          src={`https://picsum.photos/700/400.webp?random=${id}`}\r\n          alt=\"Product Image\"\r\n        />\r\n        <div>\r\n          <div className=\"product__sold-bar-container\">\r\n            <span\r\n              className=\"product__sold-bar\"\r\n              style={{ width: soldStrength + \"%\" }}\r\n            ></span>\r\n          </div>\r\n          <p className=\"product__sold-text\">{`sold ${quantity_sold} from ${product_quantity}`}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"product__body\">\r\n        <div>\r\n          <h3 className=\"product__title media__title\">{productName}</h3>\r\n          <p className=\"product__content media__content\">\r\n            {productDescription}\r\n          </p>\r\n        </div>\r\n        <div className=\"product__pricing\">\r\n          <div className=\"product__price\">{`${product_price} AED`}</div>\r\n          <div className=\"product__count\">\r\n            <svg\r\n              className=\"product__decrease icon\"\r\n              onClick={() => onDecrease(id)}\r\n            >\r\n              <use href={sprite + \"#arrow\"}></use>\r\n            </svg>\r\n            <input\r\n              type=\"number\"\r\n              value={number}\r\n              id=\"rewriting-library\"\r\n              className=\"product__number\"\r\n              onChange={(e) => onNumberChange(id, e.target.value)}\r\n              onBlur={(e) => onNumberFocusout(id)}\r\n            />\r\n            <svg\r\n              className=\"product__increase icon\"\r\n              onClick={() => onIncrease(id)}\r\n            >\r\n              <use href={sprite + \"#arrow\"}></use>\r\n            </svg>\r\n          </div>\r\n\r\n          <button className=\"product__add\">add to card</button>\r\n        </div>\r\n      </div>\r\n      {/* prize */}\r\n      <div className=\"prize\">\r\n        <header className=\"prize__header\" onClick={handleCollapse}>\r\n          <p>get a chance to win</p>\r\n          <svg className=\"prize__chevron icon\">\r\n            <use href={sprite + \"#chevron\"}></use>\r\n          </svg>\r\n        </header>\r\n        <footer className=\"prize__footer grid grid--col-2\">\r\n          <img\r\n            className=\"prize__image media__image\"\r\n            src={`https://picsum.photos/700/400.webp?random=${id + 10}`}\r\n            alt=\"Prize Image\"\r\n          />\r\n          <div>\r\n            <h3 className=\"prize__title media__title\">{prizeName}</h3>\r\n            <div className=\"prize__content media__content\">\r\n              {prizeDescription}\r\n            </div>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Product from \"./components/product\";\nimport \"./CSS/App.css\";\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n\n  async function getProducts() {\n    const result = await axios(\n      \"https://wawinner.its.ae/dev/public/api/v1/front-end/campaign\"\n    ).catch((err) => {\n      alert(err);\n    });\n\n    if (result.data.status >= 400) {\n      alert(result.data.message);\n    }\n\n    for (const product of result.data.data) {\n      const strength = (product.quantity_sold * 100) / product.product_quantity;\n      product.soldStrength = strength;\n      product.number = 1;\n    }\n\n    setProducts(result.data.data);\n  }\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  const handleNumberFocusout = (productId) => {\n    const newProducts = products.map((product) => {\n      if (product.id === productId) {\n        if (product.number === \"\") product.number = \"0\";\n        if (product.number.length > 0)\n          product.number = product.number.replace(/\\D/g, \"\");\n      }\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleIncrease = (productId) => {\n    let newProducts = products.map((product) => {\n      if (product.id === productId) product.number++;\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleDecrease = (productId) => {\n    let newProducts = products.map((product) => {\n      if (product.id === productId) {\n        if (product.number === 0);\n        else product.number--;\n      }\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  const handleNumberChange = (productId, value) => {\n    const newProducts = products.map((product) => {\n      if (product.id === productId) {\n        if (value < 0 && value === \"\") return product;\n        product.number = value;\n      }\n      return product;\n    });\n    setProducts(newProducts);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Products</h1>\n      <div className=\"products\">\n        {products.map((product) => (\n          <Product\n            key={product.id}\n            product={product}\n            onIncrease={handleIncrease}\n            onDecrease={handleDecrease}\n            onNumberChange={handleNumberChange}\n            onNumberFocusout={handleNumberFocusout}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./CSS/normalize.css\";\nimport \"./CSS/index.css\";\nimport \"milligram/dist/milligram.min.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}